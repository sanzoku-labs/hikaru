<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Q&A Chat</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script> window.FontAwesomeConfig = { autoReplaceSvg: 'nest'};</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        ::-webkit-scrollbar { display: none;}
        body { font-family: 'Inter', sans-serif; }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#6366f1',
                        'primary-dark': '#4f46e5',
                        'secondary': '#f1f5f9',
                        'accent': '#10b981',
                        'dark': '#1e293b',
                        'light-gray': '#f8fafc',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-light-gray font-inter">

    <div id="main-container" class="flex h-screen">
        
        <aside id="sidebar" class="w-64 bg-white border-r border-gray-200 flex flex-col">
            <div id="sidebar-header" class="p-6 border-b border-gray-200">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center">
                        <i class="fa-solid fa-chart-line text-white text-lg"></i>
                    </div>
                    <h1 class="text-xl font-bold text-dark">Hikaru</h1>
                </div>
            </div>
            
            <nav id="sidebar-nav" class="flex-1 p-4">
                <ul class="space-y-2">
                    <li>
                        <a href="#" class="flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors">
                            <i class="fa-solid fa-folder-open"></i>
                            <span class="font-medium">Projects</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors">
                            <i class="fa-solid fa-chart-bar"></i>
                            <span class="font-medium">Analytics</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors">
                            <i class="fa-solid fa-code-compare"></i>
                            <span class="font-medium">Comparisons</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors">
                            <i class="fa-solid fa-code-merge"></i>
                            <span class="font-medium">Merging</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="flex items-center space-x-3 px-3 py-2 rounded-lg bg-primary text-white">
                            <i class="fa-solid fa-comments"></i>
                            <span class="font-medium">Q&A Chat</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors">
                            <i class="fa-solid fa-download"></i>
                            <span class="font-medium">Exports</span>
                        </a>
                    </li>
                </ul>
            </nav>
            
            <div id="sidebar-footer" class="p-4 border-t border-gray-200">
                <div class="flex items-center space-x-3">
                    <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-5.jpg" alt="Profile" class="w-10 h-10 rounded-full object-cover">
                    <div class="flex-1">
                        <p class="text-sm font-medium text-dark">Sarah Wilson</p>
                        <p class="text-xs text-gray-500">Premium Plan</p>
                    </div>
                    <button class="p-2 text-gray-400 hover:text-gray-600 transition-colors">
                        <i class="fa-solid fa-cog"></i>
                    </button>
                </div>
            </div>
        </aside>

        <main id="main-content" class="flex-1 flex flex-col overflow-hidden">
            
            <header id="header" class="bg-white border-b border-gray-200 px-8 py-4">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="text-2xl font-bold text-dark">Interactive Q&A Chat</h2>
                        <p class="text-gray-600 mt-1">Ask questions about your data and get instant insights</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <select id="project-selector" class="px-4 py-2 border border-gray-300 rounded-lg bg-white text-gray-700 focus:ring-2 focus:ring-primary focus:border-primary">
                            <option>Sales Analytics Q4</option>
                            <option>Customer Segmentation</option>
                            <option>Risk Assessment</option>
                            <option>ML Model Training</option>
                        </select>
                        <button class="px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors">
                            <i class="fa-solid fa-history"></i>
                        </button>
                        <button class="px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors">
                            <i class="fa-solid fa-cog"></i>
                        </button>
                    </div>
                </div>
            </header>

            <div id="chat-container" class="flex-1 flex overflow-hidden">
                
                <div id="chat-sidebar" class="w-80 bg-white border-r border-gray-200 flex flex-col">
                    <div id="chat-sidebar-header" class="p-4 border-b border-gray-200">
                        <h3 class="text-lg font-semibold text-dark">Chat History</h3>
                        <button id="new-chat-btn" class="mt-3 w-full px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center justify-center space-x-2">
                            <i class="fa-solid fa-plus"></i>
                            <span>New Chat</span>
                        </button>
                    </div>
                    
                    <div id="chat-history" class="flex-1 overflow-auto p-4">
                        <div class="space-y-3">
                            <div id="chat-session-1" class="p-3 bg-primary/10 border border-primary/20 rounded-lg cursor-pointer">
                                <p class="font-medium text-dark text-sm">Sales Trends Analysis</p>
                                <p class="text-gray-600 text-xs mt-1">What are the key trends in Q4 sales?</p>
                                <p class="text-gray-400 text-xs mt-1">2 hours ago</p>
                            </div>
                            
                            <div id="chat-session-2" class="p-3 bg-gray-50 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors">
                                <p class="font-medium text-dark text-sm">Customer Behavior Insights</p>
                                <p class="text-gray-600 text-xs mt-1">How do customer segments differ?</p>
                                <p class="text-gray-400 text-xs mt-1">1 day ago</p>
                            </div>
                            
                            <div id="chat-session-3" class="p-3 bg-gray-50 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors">
                                <p class="font-medium text-dark text-sm">Revenue Predictions</p>
                                <p class="text-gray-600 text-xs mt-1">Can you predict next quarter revenue?</p>
                                <p class="text-gray-400 text-xs mt-1">3 days ago</p>
                            </div>
                            
                            <div id="chat-session-4" class="p-3 bg-gray-50 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors">
                                <p class="font-medium text-dark text-sm">Risk Factors</p>
                                <p class="text-gray-600 text-xs mt-1">What are the main risk factors?</p>
                                <p class="text-gray-400 text-xs mt-1">1 week ago</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chat-main" class="flex-1 flex flex-col bg-white">
                    
                    <div id="chat-messages" class="flex-1 overflow-auto p-6 space-y-6">
                        
                        <div id="welcome-message" class="text-center py-12">
                            <div class="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fa-solid fa-robot text-primary text-2xl"></i>
                            </div>
                            <h3 class="text-xl font-semibold text-dark mb-2">Welcome to Interactive Q&A</h3>
                            <p class="text-gray-600 mb-6">Ask me anything about your Sales Analytics Q4 data. I can help you discover insights, create visualizations, and answer complex questions.</p>
                            <div class="grid grid-cols-2 gap-4 max-w-2xl mx-auto">
                                <button class="suggested-question p-4 text-left border border-gray-200 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors">
                                    <p class="font-medium text-dark text-sm mb-1">What are the top performing products?</p>
                                    <p class="text-gray-500 text-xs">Analyze product performance metrics</p>
                                </button>
                                <button class="suggested-question p-4 text-left border border-gray-200 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors">
                                    <p class="font-medium text-dark text-sm mb-1">Show me monthly revenue trends</p>
                                    <p class="text-gray-500 text-xs">Generate revenue visualization</p>
                                </button>
                                <button class="suggested-question p-4 text-left border border-gray-200 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors">
                                    <p class="font-medium text-dark text-sm mb-1">Identify seasonal patterns</p>
                                    <p class="text-gray-500 text-xs">Discover data seasonality</p>
                                </button>
                                <button class="suggested-question p-4 text-left border border-gray-200 rounded-lg hover:border-primary hover:bg-primary/5 transition-colors">
                                    <p class="font-medium text-dark text-sm mb-1">Compare regional performance</p>
                                    <p class="text-gray-500 text-xs">Regional analysis and comparison</p>
                                </button>
                            </div>
                        </div>

                        <div id="conversation-area" class="hidden space-y-6">
                            
                            <div id="user-message-1" class="flex justify-end">
                                <div class="max-w-2xl">
                                    <div class="flex items-end space-x-3">
                                        <div class="bg-primary text-white rounded-2xl rounded-br-md px-4 py-3">
                                            <p class="text-sm">What are the key trends in Q4 sales data?</p>
                                        </div>
                                        <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-5.jpg" alt="User" class="w-8 h-8 rounded-full object-cover">
                                    </div>
                                    <p class="text-xs text-gray-500 mt-1 text-right">2:30 PM</p>
                                </div>
                            </div>

                            <div id="ai-message-1" class="flex justify-start">
                                <div class="max-w-2xl">
                                    <div class="flex items-end space-x-3">
                                        <div class="w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0">
                                            <i class="fa-solid fa-robot text-primary text-sm"></i>
                                        </div>
                                        <div class="bg-gray-100 rounded-2xl rounded-bl-md px-4 py-3">
                                            <p class="text-sm text-gray-800 mb-3">Based on your Q4 sales data analysis, here are the key trends I've identified:</p>
                                            <ul class="text-sm text-gray-800 space-y-1 mb-3">
                                                <li>• 23% increase in overall revenue compared to Q3</li>
                                                <li>• Strong performance in electronics category (+45%)</li>
                                                <li>• Seasonal spike in December (Holiday season)</li>
                                                <li>• Mobile sales channel showing 18% growth</li>
                                            </ul>
                                            <p class="text-sm text-gray-800">Would you like me to create a visualization showing these trends?</p>
                                        </div>
                                    </div>
                                    <p class="text-xs text-gray-500 mt-1 ml-11">2:31 PM</p>
                                </div>
                            </div>

                            <div id="user-message-2" class="flex justify-end">
                                <div class="max-w-2xl">
                                    <div class="flex items-end space-x-3">
                                        <div class="bg-primary text-white rounded-2xl rounded-br-md px-4 py-3">
                                            <p class="text-sm">Yes, please create a monthly revenue chart for Q4</p>
                                        </div>
                                        <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-5.jpg" alt="User" class="w-8 h-8 rounded-full object-cover">
                                    </div>
                                    <p class="text-xs text-gray-500 mt-1 text-right">2:32 PM</p>
                                </div>
                            </div>

                            <div id="ai-message-2" class="flex justify-start">
                                <div class="max-w-3xl">
                                    <div class="flex items-start space-x-3">
                                        <div class="w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                            <i class="fa-solid fa-robot text-primary text-sm"></i>
                                        </div>
                                        <div class="bg-gray-100 rounded-2xl rounded-bl-md px-4 py-3 flex-1">
                                            <p class="text-sm text-gray-800 mb-3">Here's your Q4 monthly revenue chart:</p>
                                            <div id="revenue-chart" class="bg-white rounded-lg p-4 border border-gray-200" style="height: 300px"></div>
                                            <p class="text-sm text-gray-800 mt-3">The chart shows a steady upward trend with a significant peak in December due to holiday sales.</p>
                                        </div>
                                    </div>
                                    <p class="text-xs text-gray-500 mt-1 ml-11">2:33 PM</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="chat-input-area" class="border-t border-gray-200 p-6">
                        <div class="flex items-end space-x-4">
                            <div class="flex-1">
                                <textarea id="chat-input" placeholder="Ask me anything about your data..." class="w-full px-4 py-3 border border-gray-300 rounded-xl resize-none focus:ring-2 focus:ring-primary focus:border-primary" rows="2"></textarea>
                            </div>
                            <button id="send-button" class="px-6 py-3 bg-primary text-white rounded-xl hover:bg-primary-dark transition-colors flex items-center space-x-2">
                                <i class="fa-solid fa-paper-plane"></i>
                            </button>
                        </div>
                        <div class="flex items-center justify-between mt-3">
                            <div class="flex items-center space-x-4">
                                <button class="flex items-center space-x-2 px-3 py-1 text-gray-600 hover:text-gray-800 transition-colors">
                                    <i class="fa-solid fa-paperclip text-sm"></i>
                                    <span class="text-sm">Attach</span>
                                </button>
                                <button class="flex items-center space-x-2 px-3 py-1 text-gray-600 hover:text-gray-800 transition-colors">
                                    <i class="fa-solid fa-chart-bar text-sm"></i>
                                    <span class="text-sm">Visualize</span>
                                </button>
                            </div>
                            <p class="text-xs text-gray-500">Press Enter to send, Shift+Enter for new line</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="https://cdn.plot.ly/plotly-3.1.1.min.js"></script>
    <script>
        window.addEventListener('load', function() {
            try {
                const data = [{
                    type: 'scatter',
                    mode: 'lines+markers',
                    x: ['October', 'November', 'December'],
                    y: [245000, 289000, 387000],
                    line: { color: '#6366f1', width: 3 },
                    marker: { color: '#6366f1', size: 8 }
                }];

                const layout = {
                    title: { text: 'Q4 Monthly Revenue', font: { size: 16 } },
                    xaxis: { title: 'Month' },
                    yaxis: { title: 'Revenue ($)' },
                    margin: { t: 60, r: 20, b: 60, l: 80 },
                    plot_bgcolor: '#ffffff',
                    paper_bgcolor: '#ffffff',
                    showlegend: false
                };

                const config = {responsive: true, displayModeBar: false, displaylogo: false};
                Plotly.newPlot('revenue-chart', data, layout, config);
            } catch(e) {
                document.getElementById('revenue-chart').innerHTML = '<p class="text-center text-gray-500 py-8">Chart could not be loaded</p>';
            }
        });

        document.querySelectorAll('.suggested-question').forEach(button => {
            button.addEventListener('click', function() {
                document.getElementById('welcome-message').classList.add('hidden');
                document.getElementById('conversation-area').classList.remove('hidden');
            });
        });

        document.getElementById('send-button').addEventListener('click', function() {
            const input = document.getElementById('chat-input');
            if (input.value.trim()) {
                document.getElementById('welcome-message').classList.add('hidden');
                document.getElementById('conversation-area').classList.remove('hidden');
                input.value = '';
            }
        });

        document.getElementById('chat-input').addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                document.getElementById('send-button').click();
            }
        });

        document.getElementById('new-chat-btn').addEventListener('click', function() {
            document.getElementById('welcome-message').classList.remove('hidden');
            document.getElementById('conversation-area').classList.add('hidden');
            document.getElementById('chat-input').value = '';
        });
    </script>

</body>
</html>